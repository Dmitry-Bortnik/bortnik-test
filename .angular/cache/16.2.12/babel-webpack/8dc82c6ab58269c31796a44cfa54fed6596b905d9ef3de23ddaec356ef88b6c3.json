{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { FormsModule, ReactiveFormsModule, Validators } from '@angular/forms';\nimport { MatCommonModule } from '@angular/material/core';\nimport { MatInputModule } from '@angular/material/input';\nimport { fromAddForm } from './add.form';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatSelectModule } from '@angular/material/select';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/input\";\nimport * as i5 from \"@angular/material/form-field\";\nfunction AddEditUserComponent_ng_container_10_mat_error_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" \\u0418\\u043C\\u044F \\u043E\\u0431\\u044F\\u0437\\u0430\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E \\u0434\\u043B\\u044F \\u0437\\u0430\\u043F\\u043E\\u043B\\u043D\\u0435\\u043D\\u0438\\u044F \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddEditUserComponent_ng_container_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, AddEditUserComponent_ng_container_10_mat_error_1_Template, 2, 0, \"mat-error\", 7);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r0.form.get(\"name\")) == null ? null : tmp_0_0.hasError(\"required\"));\n  }\n}\nfunction AddEditUserComponent_ng_container_19_mat_error_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" E-mail \\u043E\\u0431\\u044F\\u0437\\u0430\\u0442\\u0435\\u043B\\u044C\\u043D\\u044B\\u0439 \\u0434\\u043B\\u044F \\u0437\\u0430\\u043F\\u043E\\u043B\\u043D\\u0435\\u043D\\u0438\\u044F \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddEditUserComponent_ng_container_19_mat_error_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" \\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u044B\\u0439 e-mail \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddEditUserComponent_ng_container_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, AddEditUserComponent_ng_container_19_mat_error_1_Template, 2, 0, \"mat-error\", 7);\n    i0.ɵɵtemplate(2, AddEditUserComponent_ng_container_19_mat_error_2_Template, 2, 0, \"mat-error\", 7);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    let tmp_1_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r1.form.get(\"email\")) == null ? null : tmp_0_0.hasError(\"required\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx_r1.form.get(\"email\")) == null ? null : tmp_1_0.hasError(\"pattern\"));\n  }\n}\nexport let AddEditUserComponent = /*#__PURE__*/(() => {\n  class AddEditUserComponent {\n    constructor(data, dialogRef, fb) {\n      this.data = data;\n      this.dialogRef = dialogRef;\n      this.fb = fb;\n      this.supervisors = [];\n    }\n    ngOnInit() {\n      this.initForm();\n      if (this.data.user) {\n        this.patchFormData(this.data.user);\n      }\n    }\n    initForm() {\n      this.form = this.fb.group({\n        name: [null, [Validators.required]],\n        surname: [null],\n        email: [null, [Validators.required, Validators.pattern(/^[\\w-]+(\\.[\\w-]+)*@([\\w-]+\\.)+[a-zA-Z]{2,7}$/)]],\n        phone: [null]\n      });\n    }\n    patchFormData(user) {\n      this.form.patchValue({\n        name: user?.name || null,\n        surname: user?.surname || null,\n        email: user?.email || null,\n        phone: user.phone || null\n      });\n      this.form.updateValueAndValidity();\n    }\n    onSubmit() {\n      if (this.form.valid) {\n        const reqData = fromAddForm(this.form.value);\n        if (this.data.user) {\n          this.dialogRef.close({\n            edit: reqData\n          });\n        } else {\n          this.dialogRef.close({\n            add: reqData\n          });\n        }\n      }\n    }\n    static #_ = this.ɵfac = function AddEditUserComponent_Factory(t) {\n      return new (t || AddEditUserComponent)(i0.ɵɵdirectiveInject(MAT_DIALOG_DATA), i0.ɵɵdirectiveInject(i1.MatDialogRef), i0.ɵɵdirectiveInject(i2.FormBuilder));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AddEditUserComponent,\n      selectors: [[\"app-add-edit-user\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 29,\n      vars: 5,\n      consts: [[1, \"dialog-container\"], [\"mat-dialog-close\", \"\", 1, \"dialog-close\", \"icon-cancel\"], [1, \"dialog-title\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"inputs\"], [1, \"example-full-width\"], [\"type\", \"text\", \"matInput\", \"\", \"formControlName\", \"name\"], [4, \"ngIf\"], [\"type\", \"text\", \"matInput\", \"\", \"formControlName\", \"surname\"], [\"type\", \"text\", \"matInput\", \"\", \"formControlName\", \"email\"], [\"type\", \"text\", \"matInput\", \"\", \"formControlName\", \"phone\"], [1, \"btn-container\"], [\"mat-dialog-close\", \"\", 1, \"button-cancel\"], [\"mat-dialog-close\", \"\", \"type\", \"submit\", \"color\", \"primary\", 1, \"button-primary\", 3, \"disabled\"]],\n      template: function AddEditUserComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵelement(1, \"div\", 1);\n          i0.ɵɵelementStart(2, \"h2\", 2);\n          i0.ɵɵtext(3);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"form\", 3);\n          i0.ɵɵlistener(\"ngSubmit\", function AddEditUserComponent_Template_form_ngSubmit_4_listener() {\n            return ctx.onSubmit();\n          });\n          i0.ɵɵelementStart(5, \"div\", 4)(6, \"mat-form-field\", 5)(7, \"mat-label\");\n          i0.ɵɵtext(8, \"\\u0418\\u043C\\u044F\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(9, \"input\", 6);\n          i0.ɵɵtemplate(10, AddEditUserComponent_ng_container_10_Template, 2, 1, \"ng-container\", 7);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"mat-form-field\", 5)(12, \"mat-label\");\n          i0.ɵɵtext(13, \"\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(14, \"input\", 8);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"mat-form-field\", 5)(16, \"mat-label\");\n          i0.ɵɵtext(17, \"E-mail\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(18, \"input\", 9);\n          i0.ɵɵtemplate(19, AddEditUserComponent_ng_container_19_Template, 3, 2, \"ng-container\", 7);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"mat-form-field\", 5)(21, \"mat-label\");\n          i0.ɵɵtext(22, \"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(23, \"input\", 10);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(24, \"div\", 11)(25, \"button\", 12);\n          i0.ɵɵtext(26, \" \\u041E\\u0442\\u043C\\u0435\\u043D\\u0430 \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(27, \"button\", 13);\n          i0.ɵɵtext(28, \" \\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C \");\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          let tmp_2_0;\n          let tmp_3_0;\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(ctx.data.title);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"formGroup\", ctx.form);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngIf\", (tmp_2_0 = ctx.form.get(\"name\")) == null ? null : tmp_2_0.touched);\n          i0.ɵɵadvance(9);\n          i0.ɵɵproperty(\"ngIf\", (tmp_3_0 = ctx.form.get(\"email\")) == null ? null : tmp_3_0.touched);\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"disabled\", ctx.form.invalid);\n        }\n      },\n      dependencies: [CommonModule, i3.NgIf, MatCommonModule, FormsModule, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, MatInputModule, i4.MatInput, i5.MatFormField, i5.MatLabel, i5.MatError, ReactiveFormsModule, i2.FormGroupDirective, i2.FormControlName, MatButtonModule, MatDialogModule, i1.MatDialogClose, MatMenuModule, MatSelectModule],\n      styles: [\".btn-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:12px;margin-top:40px}h2[_ngcontent-%COMP%]{font-size:24px;margin:0 0 36px}.inputs[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0;gap:40px}.dialog-container[_ngcontent-%COMP%]{padding:40px}\"],\n      changeDetection: 0\n    });\n  }\n  return AddEditUserComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}